{
  "kind": "build_request",
  "title": "Downgrade all 'General Coordinator' permissions to 'Coordinator'",
  "projectName": "Museus Centro Reports",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "In the backend, update all existing user profiles that currently have the role 'generalCoordinator' (coordenador geral) and change their role to 'coordinator' (coordenador). This must affect every user with that role, not just a specific individual.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "em https://relatorio-museu-centro-mensal-jja.caffeine.xyz/users de todas as permissoes de coordenador geral para coordenador"
        ]
      },
      "acceptanceCriteria": [
        "All users previously holding the 'generalCoordinator' role now have the 'coordinator' role in stable storage.",
        "No user retains the 'generalCoordinator' role after the migration.",
        "Users with other roles (e.g., 'professional', 'administration') are unaffected.",
        "The migration is applied via migration.mo so that data persists across upgrades."
      ]
    },
    {
      "id": "REQ-2",
      "text": "On the User Management page (/users), verify that the role display and edit dropdown correctly reflects the updated roles â€” i.e., no user should appear as 'Coordenador Geral' after the backend migration. If the 'Coordenador Geral' option still appears in the role selection dropdown, remove it or disable it so new users cannot be assigned that role.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "em https://relatorio-museu-centro-mensal-jja.caffeine.xyz/users de todas as permissoes de coordenador geral para coordenador"
        ]
      },
      "acceptanceCriteria": [
        "The /users page shows no users with 'Coordenador Geral' as their displayed role.",
        "The role edit dropdown in UserManagementPage does not offer 'Coordenador Geral' as a selectable option.",
        "All previously 'Coordenador Geral' users now display as 'Coordenador' in the user list."
      ]
    }
  ],
  "constraints": [
    "Only users with the 'generalCoordinator' role must be changed; all other roles must remain intact.",
    "Migration must preserve all other user profile fields (name, team, status, etc.)."
  ],
  "nonGoals": [
    "Adding new roles or modifying the role hierarchy beyond this specific downgrade.",
    "Changing permissions or access rules for the 'coordinator' role itself.",
    "Modifying any other page besides /users and the backend migration."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}